# 포드 풀커슨 알고리즘


## 포드 풀커슨 알고리즘이란?

Source(시작점)에서 Sink(도착점)으로  얼마나 많은 유량을 동시에 보낼 수 있는지 계산하는 문제중 하나이다. 용량과 유량의 개념을 정확히 파악하는 것이 중요한 문제이다.

### 네트워크 유량의 특징

1) 각 간선에 흐르는 유량은 각 간선의 용량을 넘을 수 없다.

![image](https://user-images.githubusercontent.com/100903674/164578818-0783e885-02fa-4b5d-abe2-2c83e7d9464b.png)

예를 들어 A지점과  B지점을 잇는 간선의 용량이 8이라면 8을 넘는 유량은 들어올 수 없다.

2) 유량의 보존
![image](https://user-images.githubusercontent.com/100903674/164579861-0ae7b09d-e747-42b1-8d2b-5ab02ed20460.png)

위의 그래프는 A-B-C에서 A-B의 간선의 용량은 8 B-C 간의 간선의 용량은 3이다. A에서 C로 보낼수 있는 유량은 8같지만 1의 법칙에 따라  B-C간의 간선에서의
유량이 최대 3이므로 그 이상의 유량을 넣을 순 없다. 따라서 B-C의 간선에 흐르는 유량은 3이다. 데이터의 변형없이 보내기 위해서 시작점에서 들어오는 유량과 도착점에서 들어오는 유량은 같아야 하므로 A-B의 간선의 유량은 3 따라서 A-C간에 흐르는 유량은 3


3) 유량의 대칭

간선 A-B  가 있고, A-B의 capacity가 8이 라면, B-A 라는 가상의 간선이 있고, 해당 간선의 용량은 0 이라고 가정하는 것


### 포드 풀커슨 알고리즘의 작동방식

1)Source(시작점)에서  Sink(도착점)까지는의 여유용량이 있는 경로를 DFS알고리즘을 통해 찾는다. 


2) 찾아낸 경로에서 최대 유량을 찾는다. 이때 최대 유량은 찾은 경로의 남은 용량의 최솟값이다.

3) 찾아낸 경로에서 최대 유량을 흘려 보낸다.

4) 여유용량이 있는 경로를 찾는 것을 실패할때까지 위의 과정을 반복해준다.

ex) 다음과 같이 유량이 주어진 그래프가 있다고 가정해보자

![image](https://user-images.githubusercontent.com/100903674/164585480-9a6d78b5-62e8-4414-8114-5ac88115772b.png)


우선 A-C-B경로로 가게 되면 A-C-B 경로의 최대 유량인 4가 각각 A-C ,C-B 간선의 남은 용량에 더해진다.

![image](https://user-images.githubusercontent.com/100903674/164586027-dec1a299-cb69-473e-b010-141322758343.png)


그다음 A-D-B 경로로 가면 A-D-B 경로의 최대 유량인 4가 각각 A-D, D-B간선의 남은 용량에 더해진다.

![image](https://user-images.githubusercontent.com/100903674/164586271-9582919f-0b84-4725-bae8-06ab93ffab51.png)

더이상 남은 경로가 없으므로 A부터 B까지 최대 유량은 8이다.


## 포드 포커슨 알고리즘의 시간 복잡도

최대 유량을 F라 한다면 각 증가 경로 당 유량이 최소1이다. 그러므로 증가경로의 최대 개수는 F가 된다. 
하나의 증가 경로를 찾는데 방문하는 정점과 간선은 최대로 계산할시 각각 V,E개이다. 따라서 최대 유량을 얻어내는데 필요한 시간 복잡도는 
O((|E|+|V|)F)이다. 
